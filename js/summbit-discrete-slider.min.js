export const OrientationEnum=Object.freeze({LeftToRight:"left-to-right",RightToLeft:"right-to-left",TopToBottom:"top-to-bottom",BottomToTop:"bottom-to-top"});const z="summbit-discrete-slider";const f="track";const d="min";const e="max";const k="value";const i="orientation";const g="thumb";const p="dot";const r="dot-container";const s=["ArrowUp","ArrowRight"];const t=["ArrowDown","ArrowLeft"];const q="--a";const w="--b";const x="--c";const y="--d";const m=0;const b=5;const c=document.createElement("template");c.innerHTML=`<div id="${f}" class="${f}-${OrientationEnum.LeftToRight}" tabindex="0"><span id="${d}" class="${d}-${OrientationEnum.LeftToRight}" tabindex="-1"></span><span id="${e}" class="${e}-${OrientationEnum.LeftToRight}" tabindex="-1"></span><span id="${r}" class="${r}-${OrientationEnum.LeftToRight}" tabindex="-1"></span><span id="${g}" class="${g}-${OrientationEnum.LeftToRight}" tabindex="-1"><span class="thumb-center-dot" tabindex="-1"></span></span></div><style>:host{${q}:var(--${z}-track-color,#a8bec9);${w}:var(--${z}-progress-color,#0079c9);${x}:var(--${z}-thumb-diameter,20px);--e:var(--${z}-thumb-color,#ffffff);--f:var(--${z}-track-width,4px);--g:calc(calc(100% - var(--f)) / 2);--h:calc(var(--f) / 2);--i:calc(var(${x}) / 2);--k:calc(calc(100% - var(${x})) / 2);--l:calc(var(--f) * 2);--m:calc(calc(var(${x}) - var(--l)) / 2);--n:calc(calc(100% - var(--l)) / 2);all:initial;touch-action:none;display:inline-block;padding:0;margin:0;}.${f}-${OrientationEnum.LeftToRight},.${f}-${OrientationEnum.RightToLeft},.${f}-${OrientationEnum.TopToBottom},.${f}-${OrientationEnum.BottomToTop}{touch-action:none;position:relative;width:100%;height:100%;}.${f}-${OrientationEnum.LeftToRight},.${f}-${OrientationEnum.RightToLeft}{min-width:150px;min-height:var(${x});}.${f}-${OrientationEnum.TopToBottom},.${f}-${OrientationEnum.BottomToTop}{min-height:150px;min-width:var(${x});}.${d}-${OrientationEnum.LeftToRight},.${d}-${OrientationEnum.RightToLeft},.${d}-${OrientationEnum.TopToBottom},.${d}-${OrientationEnum.BottomToTop}{touch-action:none;position:absolute;background-color:var(${w});}.${e}-${OrientationEnum.LeftToRight},.${e}-${OrientationEnum.RightToLeft},.${e}-${OrientationEnum.TopToBottom},.${e}-${OrientationEnum.BottomToTop}{touch-action:none;position:absolute;background-color:var(${q});}.${d}-${OrientationEnum.LeftToRight},.${e}-${OrientationEnum.RightToLeft}{top:var(--g);left:var(--i);width:var(${y});height:var(--f);}.${d}-${OrientationEnum.RightToLeft},.${e}-${OrientationEnum.LeftToRight}{top:var(--g);left:calc(var(${y}) + var(--i));right:var(--i);height:var(--f);}.${d}-${OrientationEnum.TopToBottom},.${e}-${OrientationEnum.BottomToTop}{top:var(--i);left:var(--g);width:var(--f);height:var(${y});}.${d}-${OrientationEnum.BottomToTop},.${e}-${OrientationEnum.TopToBottom}{top:calc(var(${y}) + var(--i));left:var(--g);width:var(--f);bottom:var(--i);}.${r}-${OrientationEnum.LeftToRight},.${r}-${OrientationEnum.RightToLeft},.${r}-${OrientationEnum.TopToBottom},.${r}-${OrientationEnum.BottomToTop}{touch-action:none;position:absolute;display:flex;align-items:center;justify-content:space-between;}.${r}-${OrientationEnum.LeftToRight},.${r}-${OrientationEnum.RightToLeft}{top:var(--n);left:var(--m);right:var(--m);bottom:var(--n);}.${r}-${OrientationEnum.TopToBottom},.${r}-${OrientationEnum.BottomToTop}{top:var(--m);left:var(--n);right:var(--n);bottom:var(--m);}.${r}-${OrientationEnum.LeftToRight}{flex-direction:row;}.${r}-${OrientationEnum.RightToLeft}{flex-direction:row-reverse;}.${r}-${OrientationEnum.TopToBottom}{flex-direction:column;}.${r}-${OrientationEnum.BottomToTop}{flex-direction:column-reverse;}.${p}{touch-action:none;width:var(--l);height:var(--l);border-radius:50%;}.${g}-${OrientationEnum.LeftToRight},.${g}-${OrientationEnum.RightToLeft},.${g}-${OrientationEnum.TopToBottom},.${g}-${OrientationEnum.BottomToTop}{touch-action:none;position:absolute;width:var(${x});height:var(${x});border-radius:50%;border:var(--h) solid var(${w});box-sizing:border-box;background-color:var(--e);display:flex;align-items:center;justify-content:center;}.${g}-${OrientationEnum.LeftToRight},.${g}-${OrientationEnum.RightToLeft}{top:var(--k);left:var(${y});}.${g}-${OrientationEnum.TopToBottom},.${g}-${OrientationEnum.BottomToTop}{top:var(${y});left:var(--k);}.thumb-center-dot{touch-action:none;width:var(--l);height:var(--l);border-radius:50%;background-color:var(${w});}.${f}-${OrientationEnum.LeftToRight}:focus,.${f}-${OrientationEnum.RightToLeft}:focus,.${f}-${OrientationEnum.TopToBottom}:focus,.${f}-${OrientationEnum.BottomToTop}:focus,.${d}-${OrientationEnum.LeftToRight}:focus,.${d}-${OrientationEnum.RightToLeft}:focus,.${d}-${OrientationEnum.TopToBottom}:focus,.${d}-${OrientationEnum.BottomToTop}:focus,.${e}-${OrientationEnum.LeftToRight}:focus,.${e}-${OrientationEnum.RightToLeft}:focus,.${e}-${OrientationEnum.TopToBottom}:focus,.${e}-${OrientationEnum.BottomToTop}:focus,.${r}-${OrientationEnum.LeftToRight}:focus,.${r}-${OrientationEnum.RightToLeft}:focus,.${r}-${OrientationEnum.TopToBottom}:focus,.${r}-${OrientationEnum.BottomToTop}:focus,.${p}:focus,.${g}-${OrientationEnum.LeftToRight}:focus,.${g}-${OrientationEnum.RightToLeft}:focus,.${g}-${OrientationEnum.TopToBottom}:focus,.${g}-${OrientationEnum.BottomToTop}:focus,.thumb-center-dot:focus{outline:none;}.${f}-${OrientationEnum.LeftToRight}:focus-visible,.${f}-${OrientationEnum.RightToLeft}:focus-visible,.${f}-${OrientationEnum.TopToBottom}:focus-visible,.${f}-${OrientationEnum.BottomToTop}:focus-visible{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color;}</style>`;export default class SummbitDiscreteSlider extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"});this.shadowRoot.appendChild(c.content.cloneNode(true));this.b=Number.NaN;this.o=Number.NaN;this.u=0;this.v=0;this.rm=OrientationEnum.LeftToRight;this.mo=this.shadowRoot.getElementById(f);this.zr=this.shadowRoot.getElementById(d);this.l=this.shadowRoot.getElementById(e);this.a=this.shadowRoot.getElementById(r);this.j=this.shadowRoot.getElementById(g);this.h=new ResizeObserver(this.bn.bind(this));this.ondragstart=()=>false;this.addEventListener("pointerdown",this.pb.bind(this));this.addEventListener("keydown",this.tb.bind(this));}static get observedAttributes(){return [d,e,k,i];}attributeChangedCallback(ma,rp,xz){if(xz!==null){switch(ma){case d:this.b=parseInt(xz);this.kl();this.yx();this.hb();break;case e:this.o=parseInt(xz);this.kl();this.yx();this.jr();break;case k:this.u=this.gt(parseInt(xz));this.kl();this.yx();this.dx();break;case i:this.rm=xz;this.sd();this.kl();this.yx();this.dx();break;}}}connectedCallback(){this.kl();this.h.observe(this,{box:"content-box"});}set min(il){this.setAttribute(d,il);}get min(){return this.b;}set max(ts){this.setAttribute(e,ts);}get max(){return this.o;}set value(hg){this.setAttribute(k,this.gt(hg));}get value(){return this.u;}set orientation(rc){this.setAttribute(i,rc);}get orientation(){return this.rm;}bn(dl){this.yx();}pb(zt){this.setPointerCapture(zt.pointerId);this.onpointermove=this.ew.bind(this);this.onpointerup=this.re.bind(this);this.v=this.u;this.cd(zt);}ew(ui){this.cd(ui);}re(o){this.onpointermove=null;this.onpointerup=null;if(this.v!=this.u){this.tr();}}tb(oz){if(s.includes(oz.code)){this.cv();}else if(t.includes(oz.code)){this.jf();}}kl(){this.qw();let rj=this.a.childElementCount;let tf=this.o-this.b+1;this.vb(tf-rj);this.mn(rj-tf);}qw(){if(isNaN(this.b)){this.b=m;}if(isNaN(this.o)){this.o=b;}}vb(vg){if(vg>0){for(let i=0;i<vg;i++){this.a.appendChild(this.gz());}this.dx();}}mn(zl){if(zl>0){for(let i=0;i<zl;i++){this.a.removeChild(this.a.lastChild);}this.dx();}}gz(){let bg=document.createElement("span");bg.className=p;bg.tabIndex=-1;return bg;}dx(){let rs=window.getComputedStyle(this);let ec=rs.getPropertyValue(w);let bv=rs.getPropertyValue(q);let cy,fk;for(let i=0;i<this.a.children.length;i++){fk=i+this.b;cy=this.a.children[i];cy.dataset.value=fk;cy.style.backgroundColor=fk>this.u?bv:ec;}}yx(){for(let i=0;i<this.a.children.length;i++){if(this.a.children[i].dataset.value==this.u){switch(this.rm){case OrientationEnum.LeftToRight:case OrientationEnum.RightToLeft:this.mo.style.setProperty(y,this.a.children[i].offsetLeft+"px","");return;case OrientationEnum.TopToBottom:case OrientationEnum.BottomToTop:this.mo.style.setProperty(y,this.a.children[i].offsetTop+"px","");return;}}}}gt(fu){if(!isNaN(this.b)&&fu<this.b){return this.b;}else if(!isNaN(this.o)&&fu>this.o){return this.o;}return fu;}hb(){if(this.u<this.b){this.value=this.b;}}jr(){if(this.u>this.o){this.value=this.o;}}cv(){if(this.u<this.o){this.value+=1;this.rt();this.tr();}}jf(){if(this.u>this.b){this.value-=1;this.rt();this.tr();}}cd(tz){let ni=Math.round(this.ju(tz)*(this.o-this.b));let wk=parseInt(this.a.children[ni].dataset.value);if(this.u!=wk){this.value=wk;this.rt();}}ju(uz){let dz=parseFloat(window.getComputedStyle(this).getPropertyValue(x));let zm=dz/2;let lk,io;switch(this.rm){case OrientationEnum.LeftToRight:lk=this.mo.offsetWidth-dz;io=uz.clientX-zm-this.mo.getBoundingClientRect().left;break;case OrientationEnum.RightToLeft:lk=this.mo.offsetWidth-dz;io=this.mo.getBoundingClientRect().right-uz.clientX-zm;break;case OrientationEnum.TopToBottom:lk=this.mo.offsetHeight-dz;io=uz.clientY-zm-this.mo.getBoundingClientRect().top;break;case OrientationEnum.BottomToTop:lk=this.mo.offsetHeight-dz;io=this.mo.getBoundingClientRect().bottom-uz.clientY-zm;break;}return Math.min(Math.max(io,0),lk)/lk;}sd(){this.mo.className=`${f}-${this.rm}`;this.zr.className=`${d}-${this.rm}`;this.l.className=`${e}-${this.rm}`;this.a.className=`${r}-${this.rm}`;this.j.className=`${g}-${this.rm}`;}rt(){this.shadowRoot.dispatchEvent(new CustomEvent("input",{bubbles:true,composed:true,detail:{value:this.u}}));}tr(){this.shadowRoot.dispatchEvent(new CustomEvent("change",{bubbles:true,composed:true,detail:{value:this.u}}));}}if(!customElements.get(z)){customElements.define(z,SummbitDiscreteSlider);}